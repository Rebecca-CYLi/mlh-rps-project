{% extends 'base.html' %}
{% set active_page = "play" %}
{% block title %} Play {% endblock %}
{% block head_css %} <link rel="stylesheet" href="{{ url_for('static', filename='styles/play.css') }}" /> {% endblock %}
{% block content %}

<div class="container">

    <!-- status bars -->
    <h1 id="game-stats">Wins: 0, Losses: 0, Draws: 0</h1>
    <h1 id="game-status">Choose Game Type</h1>

    <!-- avatars -->
    <div class="row justify-content-around">
        <div class="col-5 d-flex justify-content-center">
            <div class="card bg-transparent border-0" style="width: 18rem;">
                <img id="choice-player" src="./static/img/female.png" class="card-img-top" alt="player">
                <div class="card-body">
                    <h5 id="player-name" class="card-title">You</h5>
                </div>
            </div>
        </div>

        <div class="col-1 d-flex align-items-center justify-content-center">
            <span class="fs-1">VS</span>
        </div>

        <div class="col-5 d-flex justify-content-center">
            <div class="card bg-transparent border-0" style="width: 18rem;">
                <img id="choice-opponent" src="./static/img/male.png" class="card-img-top" alt="player">
                <div class="card-body">
                    <h5 id="opponent-name" class="card-title">Opponent</h5>
                </div>
            </div>
        </div>
    </div>
    <div class="flex-container">
        <button type="button" class="circle-dot" id="btn-rock">
            <img style="margin: 5px;" src="./static/img/icons8-rock-80.png"></img>
        </button>
        <button type="button" class="circle-dot" id="btn-paper">
            <img style="margin: 5px;" src="./static/img/icons8-paper-80.png"></img>
        </button>
        <button type="button" class="circle-dot" id="btn-scissors">
            <img style="margin: 5px;" src="./static/img/icons8-hand-scissors-80.png"></img>
        </button>
    </div>

    <!-- game options -->
    <div class="my-2">
        <button type="button" class="btn btn-warning" id="btn-play-cpu">Play against CPU</button>
        <button type="button" class="btn btn-warning" id="btn-queue">Play against Human</button>
        <button type="button" class="btn btn-warning" id="btn-play-again" disabled>Play Again?</button>
    </div>

    <!-- status bar -->
    <div id="status-bar" class="fixed-bottom bg-gradient bg-danger w-auto py-1 px-3 d-flex justify-content-between align-items-center">
            <span id="socket-status" class="text-white fw-bold align-middle">DISCONNECTED</span>
            <span id="current-room" class="text-white fw-bold align-middle" style="overflow: hidden; text-overflow: ellipsis; max-width: 12ch;">ROOM: null</span>
        <button id="toggle-chat" type="button" class="btn btn-primary">Chat &uarr;</button>

    </div>

    <!-- chatrooom -->
    <div class="position-fixed mb-5" style="z-index: 11; bottom: 0; right:0;">
        <div id="chatroom" class="toast hide" role="alert">
        <div class="toast-header">
          <strong class="me-auto">Messages</strong>
          <small></small>
          <button type="button" class="btn-close" data-bs-dismiss="toast"></button>
        </div>
        <div class="toast-body">
                <div style="max-height:50vh" class="overflow-auto">
                    <!-- chat messages -->
                    <ul id="chat-messages" class="list-group"></ul>
                </div>

                <div class="input-group mb-3">
                    <input id="input-chat" type="text" class="form-control" placeholder="Message">
                    <button id="btn-send-room-chat" class="btn btn-outline-secondary" type="button">Room</button>
                    <button id="btn-send-general-chat" class="btn btn-outline-secondary" type="button">All</button>
                </div>
        </div>
      </div>
    </div>

<script src="https://cdn.socket.io/4.1.2/socket.io.min.js" integrity="sha384-toS6mmwu70G0fw54EGlWWeA4z3dyJ+dlXBtSURSKN4vyRFOcxd3Bzjj/AoOwY+Rg" crossorigin="anonymous"></script>
<script src="./static/js/Game.js"></script>
<script src="./static/js/init.js"></script>
<script src="./static/js/updateFunctions.js"></script>
<script src="./static/js/socketEvents.js"></script>
<script src="./static/js/buttonEvents.js"></script>
{% endblock %}
